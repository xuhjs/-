### 什么是闭包？
能够访问其他函数内部变量的函数，被称作闭包。
函数内部定义的函数，被返回了出去并在外部调用。
```
function foo(){
    var a=2;
    function bar(){
        console.log(a)
    }
    return bar()
}
var baz = foo()
baz() 这就形成了一个闭包
```
* 编译流程：
（1）编译阶段，变量和函数都被声明，作用域被确定
（2）运行foo()，此时会创建一个foo函数的执行上下文，执行上下文内部存储了foo中声明的所有变量函数信息
（3）函数foo()运行完毕，将内部函数bar的引用赋值给外部的变量baz,此时baz指针指向的还是bar，因此哪怕它位于foo作用域之外，它还是能够获取到foo的内部变量
（4）baz在外部被执行，baz的内部可执行代码console.log向作用域请求获取a变量，本地作用域没有找到，继续请求父级作用域，找到foo中的a变量，返回给console.log,打印2
### 应用场景
* 大多数是在需要维护内部变量的场景下应用闭包
* 过渡使用闭包会导致内存泄漏