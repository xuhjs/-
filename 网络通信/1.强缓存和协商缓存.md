### web缓存描述
web缓存是可以自动保存常见文本副本的HTTP设备。当Web请求抵达缓存时，如果本地有“已缓存的”副本，就可以从本地存储设备而不是原始服务器中提取这个文档。
### 缓存的优缺点:
* 优点:
（1）缓存减少了冗余的数据传输，节省了你的网络费用
（2）缓存缓解了网络瓶颈的问题。不需要更多的宽带就能更快的加载页面。
（3）缓存降低了对原始服务器的要求。服务器可以更快的相应，避免过载的出现
### 强缓存和协商缓存
* 浏览器进行资源请求时，会判断reponse headers是否命中强缓存，如果命中，直接从本地读取缓存，不会向服务器发送请求。
* 当强缓存没有命中时，会发送请求到服务器，判断协商缓存是否命中，如果命中，服务器将请求返回，状态码为304，不会返回资源，告诉浏览器从本地读取缓存。如果不命中，服务器直接返回资源。
* 区别:强缓存命中，不会请求服务器，直接请求缓存，协商缓存命中，会请求服务器，然后读取缓存。

### 强缓存又分为Expires和Cache-Control
* Expires，该值是一个GMT时间格式（具体时间）字符串，浏览器进行第一次请求时，服务器会在返回头部加上Expires,下次请求，如果这个时间之前则命中缓存。
* Cache-Control，该值是利用max-age判断缓存的生命周期，是以秒为单位，如果在生命周期内，则命中缓存。

### 协商缓存利用Last-Modefied,If-Modefied-Since和Etag,If-None-Match来实现
#### Last-Modefied,IF-Modefied-Since
* Last-Modefied:表示为实体头部信息，reponse返回，表示为资源的最后更新时间。
* If-Modefied-Since:通过比较两次的时间判断，资源在请求期间是否有修改，如果没有修改，则命中协商缓存，浏览器从缓存中读取资源，如果没有命中，资源有过修改，返回新的Last-Modified时间和服务器资源。
#### Etag,If-None-Match
有些情况不仅判断最后修改日期来验证资源是否有改动是不够的
（1）存在周期性重写某些资源，但资源实际包含的内容并无变化
（2）被修改的信息不重要，如注释等。
（3）Last-Modefied无法精确到毫秒，但是有些资源更新频率有时会小于一秒
* Etag:为相应头部字段，表示资源内容的唯一标识，随服务器response返回
* If-None-Match: 服务器比较请求头中的If-None-Match和当前资源中的etag是否一致，来判断资源是否修改过，如果没有修改，则命中缓存，浏览器从缓存中读取资源，如果修改过，服务器会返回新的etag，并返回资源

补充：根据浏览器缓存策略，Expire和Cache-Control用回车、后退、F5刷新会跳过本地缓存，每次都会从服务器中获数据。